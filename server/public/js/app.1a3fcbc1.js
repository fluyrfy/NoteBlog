(function(t){function e(e){for(var i,o,r=e[0],l=e[1],c=e[2],u=0,m=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,r=1;r<a.length;r++){var l=a[r];0!==s[l]&&(i=!1)}i&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},s={app:0},n=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("08a0")},"08a0":function(t,e,a){},"0afd":function(t,e,a){},"26aa":function(t,e){},"2a9a":function(t,e,a){},"3fb8":function(t,e,a){"use strict";a("0afd")},4331:function(t,e,a){},4778:function(t,e,a){"use strict";var i=a("951c"),s=a("c594"),n=a("2877"),o=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,"91daae26",null);e["default"]=o.exports},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"app"}},[a("header",[a("top-bar")],1),a("div",{staticClass:"row justify-content-between",attrs:{id:"body"}},[a("left-bar",{staticClass:"col-lg-3 "}),t.isRouterAlive?a("router-view",{staticClass:"col-lg-9"}):t._e()],1),a("footer",[a("foot-bar")],1)])},n=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-secondary rounded-top"},[a("div",{staticClass:"container d-flex flex-nowrap",attrs:{id:"top-left"}},[a("a",{staticClass:"navbar-brand fw-bold",attrs:{href:"#/",id:"blog"}},[t._v("部落格")]),a("div",{staticClass:"d-flex"},[!0!==t.$store.getters.getListActive?a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchWords,expression:"searchWords"}],staticClass:"form-control me-2",attrs:{type:"search",placeholder:"搜尋關鍵字","aria-label":"Search"},domProps:{value:t.searchWords},on:{input:function(e){e.target.composing||(t.searchWords=e.target.value)}}}):t._e()]),t._m(0)]),a("div",{staticClass:"collapse navbar-collapse row mr-3",attrs:{id:"navbarSupported"}},[a("div",{staticClass:" mb-2 mb-lg-0 col-8"},[a("routerLink",{attrs:{to:"/write"}},[t._v("撰寫"),a("i",{staticClass:"fas fa-pencil-alt"})])],1),a("div",{staticClass:"dropdown col-3"},[a("a",{staticClass:"dropdown-toggle",attrs:{href:"javascript:void(0)",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:t.auth}},[a("i",{staticClass:"far fa-user-circle"})]),a("ul",{staticClass:"dropdown-menu ml-3",attrs:{"aria-labelledby":"user"}},[0==t.$store.getters.getsUid?[a("li",[a("routerLink",{staticClass:"dropdown-item",attrs:{to:"/signin"}},[t._v("登入")])],1),a("li",[a("routerLink",{staticClass:"dropdown-item",attrs:{to:"/signup"}},[t._v("註冊")])],1)]:t._e(),1==t.$store.getters.getPermission?[a("li",[a("routerLink",{staticClass:"dropdown-item",attrs:{to:"/category"}},[t._v("主題管理")])],1)]:t._e(),0!==t.$store.getters.getsUid?[a("li",[a("routerLink",{staticClass:"dropdown-item",attrs:{to:"/profile"}},[t._v("用戶管理")])],1),a("li",[a("button",{staticClass:"dropdown-item",on:{click:t.signout}},[t._v("登出")])])]:t._e()],2)])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler ",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupported","aria-controls":"navbarSupportedContent","aria-expanded":"true","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],l=a("cb5b"),c=a("da3e"),d=a("faaa");l["a"].library.add(c["a"]),l["a"].library.add(d["e"]),l["a"].library.add(c["c"]),l["a"].library.add(c["d"]);var u={data:function(){return{searchWords:""}},component:{},mounted:function(){this.auth()},watch:{searchWords:function(){this.$store.commit("updateSearchWords",this.searchWords)},"$store.state.searchWords":function(){this.searchWords=this.$store.getters.getSearchWords}},methods:{auth:function(){var t=this;this.axios.get("auth").then((function(e){var a=e.data.code;0==a?t.$store.commit("updatesUid",0):1==a&&t.$store.commit("updatesUid",e.data.session)}))},signout:function(){var t=this,e="signout";this.axios.get(e).then((function(){t.$store.commit("updatesUid",0),t.$store.commit("updatePermission",0)})),sessionStorage.clear(),this.$router.push("/index")}}},m=u,p=(a("b3e8"),a("2877")),f=Object(p["a"])(m,o,r,!1,null,"1b998634",null),v=f.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex flex-column flex-shrink-0 p-3 mr-0 bg-light"},[a("a",{staticClass:" mb-2 link-dark text-decoration-none text-center fs-4 fw-bolder",attrs:{href:"#/"}},[t._v(" 主題 ")]),a("hr",{staticClass:"mt-0"}),a("router-link",{attrs:{to:"/"}},[a("ul",{staticClass:"nav nav-pills flex-lg-column flex-md-row mb-auto"},t._l(t.category,(function(e,i){return a("li",{key:i},[a("a",{class:{"nav-link":!0,"link-dark":!0,active:i==t.$store.getters.getTopic},attrs:{href:"#"},on:{click:function(e){return t.articleList(i)}}},[t._v(" "+t._s(e.cname)+" ")])])})),0)]),a("hr")],1)])},g=[],b={data:function(){return{category:[],selected:""}},mounted:function(){this.loadMore()},methods:{loadMore:function(){var t=this;this.axios.get("category").then((function(e){var a=e.data.code;1==a&&(t.category=e.data.data)}))},articleList:function(t){this.$store.commit("updateTopic",t),this.selected=this.$store.getters.getTopic}}},C=b,w=(a("f216"),Object(p["a"])(C,h,g,!1,null,"ed10bcfc",null)),_=w.exports,x=a("4778"),y={provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},components:{topBar:v,leftBar:_,footBar:x["default"]},methods:{reload:function(){this.isRouterAlive=!1,this.$nextTick((function(){this.isRouterAlive=!0}))}}},k=y,A=(a("034f"),Object(p["a"])(k,s,n,!1,null,null,null)),$=A.exports,I=a("8c4f"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("article-List")],1)])},O=[],L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[0==this.articleInfo.length?a("div",{staticClass:"text-center mt-5 font-weight-bold "},[t._m(0)]):1==t.isAlive?a("div",{staticClass:"d-flex flex-column"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.sort,expression:"sort"}],staticClass:"form-select my-2 align-self-end fa-font-awesome",staticStyle:{"max-width":"150px"},attrs:{"aria-label":"Default select example"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sort=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0",selected:"",disabled:""}},[t._v("--文章排序--")]),a("option",{attrs:{value:"1"}},[t._v("最新")]),a("option",{attrs:{value:"2"}},[t._v("熱門")])]),t._l(t.pageOfItems,(function(e,i){return a("div",{key:i,staticClass:"card mb-3 w-100 align-self-start position-relative shadow",attrs:{id:"card"}},[a("routerLink",{attrs:{to:"/read/"+e.aid}},[a("div",{staticClass:"row pl-0"},[a("div",{staticClass:"col-lg-4"},[a("img",{staticClass:"card-img h-100 img-thumbnail",attrs:{src:e.img?t.articleImg+e.img:"../img/defaultList.png",alt:""}})]),a("div",{staticClass:"col-lg-8"},[a("div",{staticClass:"card-body h-100 d-flex flex-column position-relative pb-4"},[a("h4",{staticClass:"card-title"},[a("strong",[t._v(t._s(e.title))])]),a("p",{staticClass:"card-text text-muted mb-2"},[0==t.$store.getters.getUid?a("span",{staticClass:"mr-2"},[a("i",{staticClass:"fas fa-user-edit"}),a("I",{staticClass:"mr-2 ml-1"},[t._v(t._s(e.uname))])],1):t._e(),a("i",{staticClass:"far fa-calendar-alt"}),a("I",{staticClass:"ml-2"},[t._v(t._s(t._f("timestampFormat")(e.ctime)))])],1),a("div",{staticStyle:{height:"48px"}},[a("p",{staticClass:"card-text articleContent"},[t._v(t._s(t._f("striptags")(e.content)))])]),a("p",{staticClass:"card-text",attrs:{id:"countview"}},[a("small",{staticClass:"text-muted position-absolute bottom-0 end-0"},[t._v("瀏覽數："+t._s(e.viewcount?e.viewcount:0)+" ")])])])])])]),0!==t.$store.getters.getUid||1==t.$store.getters.getPermission?a("div",{staticClass:"position-absolute top-0 end-0 mt-2 mr-2"},[a("router-link",{staticClass:"mr-2",attrs:{to:"/edit/"+e.aid}},[a("i",{staticClass:"far fa-edit"})]),a("a",{attrs:{type:"",href:"javascript:;","data-toggle":"modal","data-target":"#exampleModal"},on:{click:function(a){t.deleteAid=e.aid,t.deleteTitle=e.title}}},[a("i",{staticClass:"far fa-trash-alt"})])],1):t._e(),a("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1,!0),a("div",{staticClass:"modal-body"},[t._v(' 您將刪除 " '+t._s(t.deleteTitle)+' " 這篇文章 ')]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.deleteArticle}},[t._v("確定刪除")])])])])])],1)})),a("jw-pagination",{staticClass:"align-self-center mb-2",attrs:{items:t.filterSearch,pageSize:t.pageSize},on:{changePage:t.onChangePage}})],2):t._e()])},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[a("span",{staticClass:"badge badge-pill badge-dark"},[t._v("暫無文章")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("注意！")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],S=(a("4e82"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("4de4"),a("ac1f"),a("466d"),a("99af"),a("eb2e")),U=a.n(S);l["a"].library.add(d["b"],d["c"]),l["a"].library.add(d["a"]),l["a"].library.add(c["e"]);var W={data:function(){return{articleInfo:[],data:0,sort:0,deleteAid:0,deleteTitle:"",isAlive:!0,img:"",searchWords:"",pageSize:4,pageOfItems:[]}},components:{JwPagination:U.a},mounted:function(){this.loadMore(),this.$store.commit("updateListActive",!1)},destroyed:function(){this.$store.commit("updateSearchWords",""),this.searchWords="",this.$store.commit("updateListActive",!0)},watch:{"$store.state.topic":function(){var t=this.$store.getters.getTopic;this.loadMore(t)},"$store.state.uid":function(){this.loadMore()},"$store.state.searchWords":function(){this.searchWords=this.$store.getters.getSearchWords},sort:function(t){2==t?this.articleInfo.sort((function(t,e){return e.viewcount-t.viewcount})):1==t&&(this.articleInfo=this.articleInfo.sort((function(t,e){return e.aid-t.aid})))}},computed:{filterSearch:function(){var t=this,e=new Set,a=this.articleInfo.filter((function(e){return e.title.match(t.searchWords)})),i=this.articleInfo.filter((function(e){return e.content.match(t.searchWords)})),s=a.concat(i),n=s.filter((function(t){return!e.has(t.aid)&&e.add(t.aid)}));return n}},methods:{onChangePage:function(t){this.pageOfItems=t},loadMore:function(t){var e=this;if(0==this.$store.getters.getUid){null==t&&(t=this.$store.getters.getTopic);var a={topic:t},i="list";this.axios.get(i,{params:a}).then((function(t){var a=t.data.code;-1==a?(e.data,e.articleInfo=[]):e.articleInfo=t.data.data.sort((function(t,e){return e.aid-t.aid}))}))}else this.loadMoreUser()},loadMoreUser:function(){var t=this,e=this.$store.getters.getUid,a={uid:e},i="listUser";this.axios.get(i,{params:a}).then((function(e){var a=e.data.code;-1==a?(t.data,t.articleInfo=[]):t.articleInfo=e.data.data.sort((function(t,e){return e.aid-t.aid}))}))},deleteArticle:function(){var t=this,e=this.deleteAid;console.log(e);var a={aid:e},i="delete";this.axios.get(i,{params:a}).then((function(e){console.log(e);var a=e.data.code;1==a&&(t.loadMore(),t.reloadList())}))},reloadList:function(){this.isAlive=!1,this.$nextTick((function(){this.isAlive=!0}))}},filters:{striptags:function(t){var e=a("c2d5"),i=e.convert,s=i(t);return s},timestampFormat:function(t){t=new Date(Date.parse(t));var e="".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate());return e}}},N=W,E=(a("908e"),Object(p["a"])(N,L,j,!1,null,"317d7258",null)),R=E.exports,M={data:function(){return{}},components:{articleList:R},mounted:function(){this.$store.commit("updateUid",0)},beforeDestroy:function(){this.$store.commit("updateTopic",0)}},T=M,D=(a("dc57"),Object(p["a"])(T,P,O,!1,null,"1f7153ef",null)),z=D.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"row px-3 mt-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form form-select col py-0",staticStyle:{height:"38px"},attrs:{"aria-label":"Default select example"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"-1",selected:"",disabled:""}},[t._v("--選擇主題--")]),t._l(t.initCategory,(function(e,i){return a("option",{key:i,domProps:{value:i}},[t._v(t._s(e.cname))])}))],2),a("div",{staticClass:"col d-flex flex-nowrap justify-content-around align-items-center"},[a("ImgCutter",{staticClass:"col-3",attrs:{boxWidth:1e3,boxHeight:500,cutWidth:900,cutHeight:400,sizeChange:!1},on:{cutDown:t.cutDown}}),a("p",{staticClass:"py-1 m-0"},[t._v(t._s(t.filename))])],1)]),a("div",{staticClass:"mt-2"},[a("h3",{},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form form-control",attrs:{type:"",name:"",value:"",placeholder:"想個好標題吧！"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._m(0),a("button",{staticClass:"btn btn-lg btn-primary mt-2",attrs:{disabled:t.submitDisable},on:{click:t.postArticle}},[t._v("發布文章")])])},V=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-wrap mt-2"},[a("h4",[t._v("內容")]),a("div",{attrs:{id:"wangeditor"}})])}],F=a("6fad"),H=a.n(F),B=a("dcd0"),J={data:function(){return{initCategory:[],title:"",category:-1,content:"",filename:"",submitDisable:!0}},components:{ImgCutter:B["a"]},mounted:function(){this.loadMore()},watch:{},updated:function(){-1!==this.category&&null!==this.content&&""!==this.title?this.submitDisable=!1:this.submitDisable=!0},methods:{loadMore:function(){var t=this,e="auth";this.axios.get(e).then((function(e){var a=e.data.code;if(0!=a){if(1==a){var i="category";t.axios.get(i).then((function(e){var a=e.data.code;if(1==a){t.initCategory=e.data.data,t.initCategory.shift();var i=new H.a("#wangeditor");i.create(),i.config.onchange=function(e){t.content=e}}}))}}else t.$router.push("/signin")}))},cutDown:function(t){this.file=t.file,this.filename="<".concat(t.fileName,">")},postArticle:function(){var t=this,e=new FormData,a=this.title,i=this.category,s=this.content,n={title:a,category:i,content:s};e.append("data",JSON.stringify(n)),e.append("file",this.file),this.axios({method:"post",url:"write",data:e,headers:{Accept:"application/json","Content-Type":"multipart/form-data"}}).then((function(e){var a=e.data.code;0==a?t.$router.push("/signin"):1==a&&t.$router.push("/")}))}}},Z=J,K=Object(p["a"])(Z,q,V,!1,null,null,null),G=K.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"row px-3 mt-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form form-select col py-0",attrs:{"aria-label":"Default select example"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",disabled:""}},[t._v("--選擇主題--")]),t._l(t.initCategory,(function(e,i){return a("option",{key:i,domProps:{value:e.cid}},[t._v(t._s(e.cname))])}))],2),a("div",{staticClass:"col d-flex flex-nowrap justify-content-around align-items-center"},[a("ImgCutter",{staticClass:"col-3",attrs:{boxWidth:1e3,boxHeight:500,cutWidth:900,cutHeight:400,sizeChange:!1},on:{cutDown:t.cutDown}}),a("p",{staticClass:"py-1 m-0"},[t._v(t._s(t.filename))])],1)]),a("div",{staticClass:"mt-2"},[a("h3",{},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form form-control",attrs:{type:"",name:"",value:"",placeholder:"想個好標題吧！"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._m(0),a("button",{staticClass:"btn btn-lg btn-primary mt-2",on:{click:t.editArticle}},[t._v("修改文章")])])},X=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-wrap mt-2"},[a("h4",[t._v("內容")]),a("div",{attrs:{id:"wangeditor"}})])}],Y={data:function(){return{initCategory:[],title:"",category:"",initContent:"",content:"",aInfo:{},file:"",filename:""}},props:["aid"],components:{ImgCutter:B["a"]},mounted:function(){this.loadMore()},methods:{loadMore:function(){var t=this,e="auth";this.axios.get(e).then((function(e){var a=e.data.code;if(0!=a){if(1==a){var i="category";t.axios.get(i).then((function(e){var a=e.data.code;if(1==a){t.initCategory=e.data.data,t.initCategory.shift();var i="read",s={aid:t.aid};t.axios.get(i,{params:s}).then((function(e){var a=e.data.code;if(1==a){t.aInfo=e.data.data[0],t.title=t.aInfo.title,t.category=t.aInfo.cid,t.initContent=t.aInfo.content;var i=new H.a("#wangeditor");i.create(),i.txt.html(t.initContent),i.config.onchange=function(e){t.content=e}}}))}}))}}else t.$router.push("/signin")}))},cutDown:function(t){this.file=t.file,this.filename="<".concat(t.fileName,">")},editArticle:function(){var t=this,e=new FormData,a=this.title,i=this.category,s=this.content,n={aid:this.aid,title:a,category:i,content:s};e.append("data",JSON.stringify(n)),e.append("file",this.file),this.axios({method:"post",url:"edit",data:e,headers:{Accept:"application/json","Content-Type":"multipart/form-data"}}).then((function(e){var a=e.data.code;0==a?t.$router.push("/signin"):1==a&&t.$router.push("/")}))}}},tt=Y,et=(a("e3ba"),Object(p["a"])(tt,Q,X,!1,null,null,null)),at=et.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container mt-5"},[a("div",{staticClass:"row"},[a("div",{},[a("article",[a("header",{staticClass:"mb-4"},[a("h1",{staticClass:"fw-bolder mb-1"},[t._v(t._s(t.title))]),a("div",{staticClass:"text-muted fst-italic mb-2"},[t._v("Posted on "+t._s(t.ctime))]),a("routerLink",{staticClass:"badge bg-secondary text-decoration-none link-light",attrs:{to:"/"}},[a("span",{on:{click:t.keyWord}},[t._v(t._s(t.category))])])],1),a("figure",{staticClass:"mb-4"},[null!==t.img?a("img",{staticClass:"img-fluid rounded",staticStyle:{"box-shadow":"3px 3px 12px gray",padding:"3px"},attrs:{src:t.src,alt:"...",width:"900px",height:"400px"}}):t._e()]),a("section",{staticClass:"mb-5",domProps:{innerHTML:t._s(t.content)}})]),a("div",{staticClass:"row pb-2 pl-2",attrs:{id:"thumbs"}},[a("a",{staticClass:"d-flex col-sm-1",attrs:{href:"javascript:void(0);"},on:{click:t.likeArticle}},[a("div",[1==t.thumbsActive?[t._m(0)]:t._e(),[2==t.thumbsActive?a("div",[a("i",{staticClass:"fas fa-thumbs-up"})]):t._e()]],2),t.isNumOfLikeAlive?a("span",{staticClass:"ms-2"},[t._v(t._s(t.numOfLike))]):t._e()]),a("div",{staticClass:"col-sm-10"})]),a("section",{staticClass:"mb-5"},[a("div",{staticClass:"card bg-light"},[t.isRouterAlive?a("div",{staticClass:"card-body"},[a("div",{staticClass:"mb-4 d-flex flex-column"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control",attrs:{rows:"3",placeholder:"Join the discussion and leave a comment!"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),a("button",{staticClass:"btn btn-primary mt-1 align-self-lg-end",attrs:{type:""},on:{click:t.addComment}},[t._v("留言")])]),t._l(t.aInfo,(function(e,i){return a("div",{key:i},[0==e.parentcmtid?a("div",{staticClass:"d-flex mb-4 row"},[a("div",{staticClass:"flex-shrink-0 col-lg-1 ms-3"},[a("img",{staticClass:"rounded-circle",attrs:{width:"50px",height:"50px",src:6==e.permission?e.cmtavatar:e.cmtavatar?t.avatar+e.cmtavatar:"./img/defaultUser.png",alt:"..."}})]),a("div",{staticClass:" col-lg-10 "},[a("div",{staticClass:"fw-bold"},[t._v(t._s(e.cmtuname))]),a("div",{staticClass:"d-flex justify-content-lg-between"},[t._v(t._s(e.cmtcontent)),a("a",{staticClass:"text-muted ",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.showCommentTextArea(e.commentid)}}},[t._v("回覆")])]),t.show==e.commentid?a("div",{staticClass:"mb-4 d-flex flex-column"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.childComment,expression:"childComment"}],staticClass:"form-control align-self-stretch",attrs:{rows:"3",placeholder:"請友善回覆"},domProps:{value:t.childComment},on:{input:function(e){e.target.composing||(t.childComment=e.target.value)}}}),a("button",{staticClass:"btn btn-primary mt-1 align-self-lg-end",attrs:{type:""},on:{click:function(a){return t.addChildComment(e.commentid)}}},[t._v("留言")])]):t._e(),t._l(t.aInfo,(function(i,s){return a("div",{key:s},[i.parentcmtid==e.commentid?a("div",{staticClass:"d-flex mt-4"},[a("div",{staticClass:"flex-shrink-0"},[a("img",{staticClass:"rounded-circle",attrs:{width:"50px",height:"50px",src:6==i.permission?i.cmtavatar:i.cmtavatar?t.avatar+i.cmtavatar:"./img/defaultUser.png",alt:"..."}})]),a("div",{staticClass:"ms-3"},[a("div",{staticClass:"fw-bold"},[t._v(t._s(i.cmtuname))]),t._v(" "+t._s(i.cmtcontent)+" ")])]):t._e()])}))],2)]):t._e()])}))],2):t._e()])])])])])])},st=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i",{staticClass:"far fa-thumbs-up"})])}];l["a"].library.add(d["d"]);var nt={inject:["reload"],data:function(){return{aInfo:[],title:"",content:"",ctime:"",comment:"",childComment:"",show:0,isRouterAlive:!0,isNumOfLikeAlive:!0,img:"",src:"",cid:"",category:"",thumbsActive:1,numOfLike:0}},props:["aid"],mounted:function(){this.loadMore()},watch:{show:function(){this.childComment=""}},methods:{loadMore:function(){var t=this,e=this.aid,a={aid:e},i="read";this.axios.get(i,{params:a}).then((function(a){t.aInfo=a.data.data.sort((function(t,e){return e.commentid-t.commentid})),t.title=t.aInfo[0].title,t.content=t.aInfo[0].content,t.ctime=new Date(t.aInfo[0].ctime),t.img=t.aInfo[0].img,t.cid=t.aInfo[0].cid,t.src=t.articleImg+t.img,t.$store.commit("updateTopic",t.cid),t.viewCount();var i="category",s={cid:t.cid};t.axios.get(i,{params:s}).then((function(e){var a=e.data.code;1==a&&(t.category=e.data.data[0].cname)}));var n="queryLikeArticle",o={aid:e};t.axios.get(n,{params:o}).then((function(e){var a=e.data.code;1==a?t.thumbsActive=1:-1==a&&(t.thumbsActive=2),t.numOfLikeArticle()}))}))},viewCount:function(){var t=this.aid,e={aid:t},a="viewCount";this.axios.get(a,{params:e}).then((function(){}))},addComment:function(){var t=this,e=this.aid,a=this.comment,i={aid:e,content:a},s="addComment";this.axios.post(s,i).then((function(e){var a=e.data.code;0==a?t.$router.push("/signin"):1==a&&(t.comment="",t.reloadComment())}))},addChildComment:function(t){var e=this,a={aid:this.aid,childComment:this.childComment,parentcmtid:t},i="addChildComment";this.axios.post(i,a).then((function(t){var a=t.data.code;1==a?e.reloadComment():0==a&&e.$router.push("/signin")})),this.show=0},reloadComment:function(){this.isRouterAlive=!1,this.loadMore(),this.$nextTick((function(){this.isRouterAlive=!0}))},keyWord:function(){this.$store.commit("updateTopic",this.cid)},likeArticle:function(){var t=this,e=this.aid,a={aid:e},i="queryLikeArticle";this.axios.get(i,{params:a}).then((function(e){var i=e.data.code;if(1==i){var s="likeArticle";t.axios.get(s,{params:a}).then((function(e){var a=e.data.code;0!=a?1==a&&(t.thumbsActive=2,t.numOfLikeArticleReload()):t.$router.push("/signin")}))}else if(-1==i){t.thumbsActive=2;var n="cancelLikeArticle";t.axios.get(n,{params:a}).then((function(e){var a=e.data.code;1==a&&(t.thumbsActive=1,t.numOfLikeArticleReload())}))}}))},numOfLikeArticleReload:function(){this.isNumOfLikeAlive=!1,this.numOfLikeArticle(),this.$nextTick((function(){this.isNumOfLikeAlive=!0}))},numOfLikeArticle:function(){var t=this,e=this.aid,a={aid:e},i="numOfLikeArticle";this.axios.get(i,{params:a}).then((function(e){var a=e.data.code;1==a&&(t.numOfLike=e.data.data[0]["COUNT(*)"])}))},showCommentTextArea:function(t){0==this.show?this.show=t:0!==this.show&&(this.show=0)}}},ot=nt,rt=Object(p["a"])(ot,it,st,!1,null,"2f1986d7",null),lt=rt.exports,ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container mt-lg-5 mt-sm-2"},[i("div",{staticClass:"text-center"},[i("div",{staticClass:"form-signin"},[i("img",{staticClass:"mb-4",attrs:{src:a("c91c"),alt:"",width:"150",height:"150"}}),i("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Please sign in")]),t.showAlert?i("div",{staticClass:"alert alert-danger alert-dismissable text-center"},[i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-hidden":"true"},on:{click:function(e){t.showAlert=!1}}},[t._v(" × ")]),i("i",{staticClass:"fas fa-exclamation-circle"}),t._v(" 帳號或密碼錯誤 ")]):t._e(),i("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"電子郵件",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),i("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.upwd,expression:"upwd"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"密碼",required:""},domProps:{value:t.upwd},on:{input:function(e){e.target.composing||(t.upwd=e.target.value)}}}),i("button",{staticClass:"btn btn-lg btn-primary btn-block mt-2 mb-2",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.signin.apply(null,arguments)}}},[t._v("Sign in")]),i("a",{attrs:{href:"#"},on:{click:t.googleSignIn}},[i("img",{staticClass:"rounded",attrs:{src:a("c15a"),alt:""}})]),i("div",{attrs:{id:"divspan"}},[i("span",[t._v("還沒有帳號嗎?"),i("router-link",{staticClass:"text-decoration-underline",attrs:{to:"/signup"}},[t._v("註冊")])],1)]),i("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 2021 FrankLiao")])])])])},dt=[],ut=a("cc84"),mt=(a("ea7b"),{data:function(){return{email:"",upwd:"",showAlert:!1}},components:{},created:function(){var t={apiKey:"AIzaSyAbzIkKbHWWFcIiJ7Xww7001ZzGdAS9Wk0",authDomain:"noteblog-a49ac.firebaseapp.com",projectId:"noteblog-a49ac",storageBucket:"noteblog-a49ac.appspot.com",messagingSenderId:"915726178166",appId:"1:915726178166:web:721a7dfa9c499222c14c57",measurementId:"G-GESSWKRTEC"};ut["b"].apps.length||ut["b"].initializeApp(t)},methods:{signin:function(){var t=this,e=this.email,a=this.upwd,i="signin",s={email:e,upwd:a};this.axios.get(i,{params:s}).then((function(e){var a=e.data.code;if(1==a){var i=e.data.session.uid,s=e.data.session.permission;t.$store.commit("updatesUid",i),t.$store.commit("updatePermission",s),sessionStorage.setItem("uid",i),sessionStorage.setItem("permission",s),t.$router.push("/")}else if(-1==a)return void(t.showAlert=!0)}))},googleSignIn:function(){var t=this,e=new ut["b"].auth.GoogleAuthProvider;ut["b"].auth().signInWithPopup(e).then((function(e){var a=e.user,i={email:a.uid,upwd:a.uid,uname:a.displayName,avatar:a.photoURL};t.axios.get("googleSignup",{params:i}).then((function(e){var a=e.data.code;if(1==a){var i=e.data.data.uid,s=e.data.data.permission;t.$store.commit("updatesUid",i),t.$store.commit("updatePermission",s),sessionStorage.setItem("uid",i),sessionStorage.setItem("permission",s),t.$router.push("/")}}))})).catch((function(t){console.log(t)}))}}}),pt=mt,ft=(a("8d6d"),Object(p["a"])(pt,ct,dt,!1,null,"2d2cd7e4",null)),vt=ft.exports,ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container mt-lg-5"},[i("div",{staticClass:"text-center"},[i("div",{staticClass:"form-signin"},[i("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[i("img",{staticClass:"mb-4",attrs:{src:a("c91c"),alt:"",width:"150px",height:"150px"}}),i("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Please sign up")]),i("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("uname")]),i("ValidationProvider",{attrs:{role:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[i("input",{directives:[{name:"model",rawName:"v-model",value:t.uname,expression:"uname"}],staticClass:"form-control",attrs:{type:"text",id:"inputUname",placeholder:"用戶名",required:"",autofocus:"",name:"uname"},domProps:{value:t.uname},on:{input:function(e){e.target.composing||(t.uname=e.target.value)}}}),i("span",{staticClass:"badge badge-danger mb-1"},[t._v(t._s(a[0]))])]}}],null,!0)}),i("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),i("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"電子郵件",required:"",autofocus:"",name:""},domProps:{value:t.email},on:{input:[function(e){e.target.composing||(t.email=e.target.value)},t.verifyEmail]}}),i("span",{staticClass:"badge badge-danger mb-1"},[t._v(t._s(a[0]))])]}}],null,!0)}),i("ValidationObserver",[i("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),i("ValidationProvider",{attrs:{rules:"confirmed:confirmation"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[i("input",{directives:[{name:"model",rawName:"v-model",value:t.upwd,expression:"upwd"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"密碼",required:"",name:"upwd"},domProps:{value:t.upwd},on:{input:function(e){e.target.composing||(t.upwd=e.target.value)}}}),i("span",{staticClass:"badge badge-danger mb-1"},[t._v(t._s(a[0]))])]}}],null,!0)}),i("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("confirm Password")]),i("ValidationProvider",{attrs:{vid:"confirmation"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[i("input",{directives:[{name:"model",rawName:"v-model",value:t.cfupwd,expression:"cfupwd"}],staticClass:"form-control",attrs:{type:"password",id:"inputConfirmPassword",placeholder:"確認密碼",required:""},domProps:{value:t.cfupwd},on:{input:function(e){e.target.composing||(t.cfupwd=e.target.value)}}}),i("span",{staticClass:"badge badge-danger mb-1"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),i("div",{staticClass:"checkbox mb-3"}),i("button",{class:t.btnClass,attrs:{disabled:s},on:{click:t.recaptcha}},[t._v("Sign up")])]}}])}),i("div",{attrs:{id:"divspan"}},[i("span",[t._v("已經是會員了嗎?"),i("router-link",{staticClass:"text-decoration-underline",attrs:{to:"/signin"}},[t._v("登入")])],1)]),i("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 2021 FrankLiao")])],1)])])},gt=[],bt=a("5530"),Ct=(a("841c"),a("7bb1")),wt=a("4c93");Object(Ct["c"])("email",Object(bt["a"])(Object(bt["a"])({},wt["b"]),{},{message:"電郵地址無效"})),Object(Ct["c"])("confirmed",Object(bt["a"])(Object(bt["a"])({},wt["a"]),{},{message:"確認密碼不相符"})),Object(Ct["c"])("required",Object(bt["a"])(Object(bt["a"])({},wt["c"]),{},{message:"必填欄位"}));var _t={data:function(){return{uname:"",email:"",upwd:"",cfupwd:"",token:"",emailWarn:"",upwdWarn:"",emailReg:!1,upwdReg:!1,btnClass:{btn:!0,"btn-lg":!0,"btn-block":!0,"btn-primary":!0,disabled:!1}}},components:{ValidationProvider:Ct["b"],ValidationObserver:Ct["a"]},methods:{verifyEmail:function(){var t=/^\w+((-\w+)|(.\w+))@[A-Za-z0-9]+((.|-)[A-Za-z0-9]+).[A-Za-z]+$/;-1!==this.email.search(t)?(this.emailReg=!0,this.emailWarn="電郵地址格式正確"):this.emailWarn="電郵地址格式錯誤"},verifyPwd:function(){},recaptcha:function(){var t=this;this.$recaptchaLoaded().then((function(){t.$recaptcha("signup").then((function(e){var a=t.uname,i=t.email,s=t.upwd,n="signup";t.axios.post(n,{uname:a,email:i,upwd:s,token:e}).then((function(e){var a=e.data.code;1==a&&t.$router.push("/signin")}))}))}))}}},xt=_t,yt=(a("cc86"),Object(p["a"])(xt,ht,gt,!1,null,"7585185a",null)),kt=yt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"layout-content"},[a("div",{staticClass:"flex-grow-1 container-p-y"},[a("div",{staticClass:"container-m-nx container-m-ny theme-bg-white mb-3"},[a("div",{staticClass:"media col-md-10 col-lg-8 col-xl-7 py-5 mx-auto"},[t.isAlive?a("img",{staticClass:"rounded-circle img-thumbnail",attrs:{src:t.src,alt:"",width:"110px",height:"110px"}}):t._e(),a("div",{staticClass:"media-body ml-5"},[a("h4",{staticClass:"font-weight-bold mb-4"},[t._v(t._s(t.userInfo.uname))]),a("div",{staticClass:"text-muted mb-4"},[t._v(" "+t._s(t.userInfo.selfintro)+" ")]),a("a",{staticClass:"d-inline-block text-body",attrs:{href:"javascript:void(0)"}},[a("strong",[t._v(t._s(t.post))]),a("span",{staticClass:"text-muted"},[t._v("posts")])]),a("a",{staticClass:"d-inline-block text-body ml-3",attrs:{href:"javascript:void(0)"}},[a("strong",[t._v(t._s(t.gainLikeNum))]),a("span",{staticClass:"text-muted"},[t._v("likes")])])])]),a("hr",{staticClass:"m-0"})]),a("ul",{staticClass:"nav nav-tabs justify-content-center"},[a("li",{staticClass:"nav-item"},[a("a",{class:t.tab1,attrs:{href:"#/profile/ctrlArticle"},on:{click:t.changeLeft}},[t._v("管理文章")])]),a("li",{staticClass:"nav-item"},[a("a",{class:t.tab2,attrs:{href:"#/profile/editProfile"},on:{click:t.changeMiddle}},[t._v("修改資料")])]),a("li",{staticClass:"nav-item"},[6!==t.$store.getters.getPermission?a("a",{class:t.tab3,attrs:{href:"#/profile/profilePhoto"},on:{click:t.changeRight}},[t._v("修改頭像")]):t._e()])]),a("div",{staticClass:"container"},[1==t.isActive?a("article-list"):2==t.isActive?a("edit-profile"):a("profile-photo")],1)])])])},$t=[],It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"bootstrap snippets bootdey mt-2"},[a("div",{staticClass:" "},[a("div",{ref:"formValid",staticClass:"row justify-content-lg-around justify-content-sm-between form-group",attrs:{role:"form","data-toggle":"validator"}},[t.showAlert?a("div",{staticClass:"alert alert-danger alert-dismissable text-center"},[a("i",{staticClass:"fas fa-exclamation-circle"}),t._v(" "+t._s(t.warn)+" ")]):t._e(),6!==t.$store.getters.getPermission?[a("div",{staticClass:"col-6 row"},[a("label",{staticClass:"col-lg-4 control-label py-2"},[t._v("暱稱:")]),a("div",{staticClass:"col-lg-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.uname,expression:"uname"}],staticClass:"form-control",attrs:{type:"text",placeholder:"新暱稱"},domProps:{value:t.uname},on:{input:function(e){e.target.composing||(t.uname=e.target.value)}}})])]),a("div",{staticClass:"col-6 row"},[a("label",{staticClass:"col-lg-4 control-label py-2"},[t._v("電子郵件:")]),a("div",{staticClass:"col-lg-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"新電郵","data-error":"Bruh, that email address is invalid"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),a("div",{staticClass:"col-6 row"},[a("label",{staticClass:"col-lg-4 control-label py-2"},[t._v("新密碼:")]),a("div",{staticClass:"col-lg-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.upwd,expression:"upwd"}],staticClass:"form-control",attrs:{type:"password",placeholder:"新密碼",id:"inputPW"},domProps:{value:t.upwd},on:{input:function(e){e.target.composing||(t.upwd=e.target.value)}}}),a("div",{attrs:{"data-match-error":"糟了！密碼並未吻合，請重新輸入~"}})])]),a("div",{staticClass:"col-6 row"},[a("label",{staticClass:"col-lg-4 control-label py-2 pr-0"},[t._v("確認新密碼:")]),a("div",{staticClass:"col-lg-8 align-items-lg-start pl-0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cfupwd,expression:"cfupwd"}],staticClass:"form-control",attrs:{type:"password",placeholder:"確認新密碼","data-match":"#inputPW","data-match-error":"糟了！密碼並未吻合，請重新輸入~"},domProps:{value:t.cfupwd},on:{input:function(e){e.target.composing||(t.cfupwd=e.target.value)}}})])])]:t._e(),a("div",{staticClass:"row"},[a("label",{staticClass:"col-lg-2 control-label"},[t._v("個人簡介:")]),a("div",{staticClass:"col-lg-8"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.selfIntro,expression:"selfIntro"}],staticClass:"form-control",attrs:{type:"text",placeholder:"留下你的自我介紹"},domProps:{value:t.selfIntro},on:{input:function(e){e.target.composing||(t.selfIntro=e.target.value)}}})])]),a("button",{staticClass:"btn btn-primary mt-2  w-25 ",attrs:{type:"",disabled:t.disable},on:{click:t.updateUser}},[t._v("修改")])],2)]),a("hr")])])},Pt=[];a("a9e3");l["a"].library.add(c["b"]);var Ot={inject:["dataReload"],data:function(){return{email:"",uname:"",upwd:"",cfupwd:"",selfIntro:"",disable:!0,warn:"",showAlert:!1}},components:{},watch:{email:function(){this.verifyEmail(),""==this.email&&(this.showAlert=!1)},upwd:function(){this.verifyUpwd()},cfupwd:function(){this.verifyUpwd()}},mounted:function(){this.$store.commit("updatePermission",Number(sessionStorage.getItem("permission")))},updated:function(){(""!==this.uname||""!==this.email||""!==this.upwd||""!==this.selfIntro)&&this.upwd==this.cfupwd?this.disable=!1:this.disable=!0},methods:{updateUser:function(){var t=this,e=this.uname,a=this.upwd,i=this.cfupwd,s=this.selfIntro,n="updateUser",o={uname:e,upwd:a,selfIntro:s};a==i&&this.axios.post(n,o).then((function(e){var a=e.data.code;1==a&&(t.uname="",t.upwd="",t.cfupwd="",t.selfIntro="",t.dataReload())}))},verifyEmail:function(){var t=/^\w+((-\w+)|(.\w+))@[A-Za-z0-9]+((.|-)[A-Za-z0-9]+).[A-Za-z]+$/;-1!==this.email.search(t)?(this.emailReg=!0,this.warn="電郵地址格式正確",this.showAlert=!1):(this.warn="電郵地址格式錯誤",this.showAlert=!0,this.disabled=!0)},verifyUpwd:function(){this.upwd!==this.cfupwd?(this.showAlert=!0,this.warn="請確認密碼"):this.showAlert=!1}}},Lt=Ot,jt=Object(p["a"])(Lt,It,Pt,!1,null,null,null),St=jt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container align-items-center"},[a("div",{staticClass:"container"},[a("div",{staticClass:"text-center"},[a("img",{staticClass:"avatar img-circle mt-5 mb-3 rounded-circle",attrs:{src:t.dataURL,alt:"avatar"}}),a("p",[t._v(t._s(t.filename))]),a("img-cutter",{staticClass:"mt-4",attrs:{cutWidth:100,cutHeight:100,sizeChange:!1,boxWidth:300,boxHeight:300},on:{cutDown:t.cutDown}})],1),a("div",{staticClass:"text-center mt-3 mb-1"},[a("button",{staticClass:"btn btn-outline-success",attrs:{type:"",disabled:t.disabled},on:{click:t.avatar}},[t._v("確定送出")])])])])},Wt=[],Nt={inject:["dataReload"],data:function(){return{disabled:!0,file:"",filename:"",dataURL:"../img/defaultEditAvatar.png"}},components:{ImgCutter:B["a"]},methods:{cutDown:function(t){this.disabled=!1,this.file=t.file,this.filename="<".concat(t.fileName,">"),this.dataURL=t.dataURL},avatar:function(){var t=this,e=new FormData;e.append("file",this.file),this.axios({method:"post",url:"avatar",data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var a=e.data.code;1==a&&(t.dataURL="//placehold.it/100",t.filename="",t.dataReload())}))}}},Et=Nt,Rt=Object(p["a"])(Et,Ut,Wt,!1,null,"58b588ca",null),Mt=Rt.exports,Tt={data:function(){return{userInfo:[],post:0,gainLikeNum:0,src:"",isActive:1,tab1:{"nav-link":!0,active:!0},tab2:{"nav-link":!0,active:!1},tab3:{"nav-link":!0,active:!1},uid:0,isAlive:!0}},provide:function(){return{dataReload:this.dataReload}},components:{articleList:R,editProfile:St,profilePhoto:Mt},mounted:function(){this.loadMore()},methods:{loadMore:function(){var t=this,e="queryUser";this.axios.get(e).then((function(e){var a=e.data.code;-1!=a?-2==a?console.log("查詢錯誤"):(t.userInfo=e.data[0],t.$store.commit("updateUid",t.userInfo.uid),null==t.userInfo.avatar?t.src="./img/defaultUser.png":6==t.userInfo.permission?t.src=t.userInfo.avatar:t.src=t.avatar+t.userInfo.avatar,t.axios.get("listUser").then((function(e){var a=e.data.code;1==a&&(t.post=e.data.data.length)})),t.axios.get("gainLikeNum").then((function(e){var a=e.data.code;1==a&&(t.gainLikeNum=e.data.data)}))):t.$router.push("/signin")}))},changeLeft:function(){this.isActive=1,this.tab1.active=!0,this.tab2.active=!1,this.tab3.active=!1},changeMiddle:function(){this.isActive=2,this.tab1.active=!1,this.tab2.active=!0,this.tab3.active=!1},changeRight:function(){this.isActive=3,this.tab1.active=!1,this.tab2.active=!1,this.tab3.active=!0},dataReload:function(){this.isAlive=!1,this.loadMore(),this.$nextTick((function(){this.isAlive=!0}))}}},Dt=Tt,zt=(a("f8f3"),Object(p["a"])(Dt,At,$t,!1,null,"5db40264",null)),qt=zt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"notfound"}},[a("div",{staticClass:"notfound"},[t._m(0),a("h2",[t._v("抱歉! 此頁面無法找到")]),a("p",[t._v("您所尋找的頁面不存在或已被移除")]),a("routerLink",{attrs:{to:"/"}},[t._v("前往首頁")])],1)])])},Ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notfound-404"},[a("h1",[t._v("404")])])}],Ht={},Bt=Ht,Jt=(a("3fb8"),Object(p["a"])(Bt,Vt,Ft,!1,null,"153858c3",null)),Zt=Jt.exports,Kt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Gt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{},[a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-md-12 table-responsive"},[a("table",{staticClass:"table table-bordered table-hover table-sortable",attrs:{id:"tab_logic"}},[a("thead",[a("tr",[a("th",{staticClass:"text-center"},[t._v(" Name ")]),a("th",{staticClass:"text-center"},[t._v(" Email ")]),a("th",{staticClass:"text-center"},[t._v(" Notes ")]),a("th",{staticClass:"text-center"},[t._v(" Option ")]),a("th",{staticClass:"text-center",staticStyle:{"border-top":"1px solid #ffffff","border-right":"1px solid #ffffff"}})])]),a("tbody",[a("tr",{staticClass:"hidden",attrs:{id:"addr0","data-id":"0"}},[a("td",{attrs:{"data-name":"name"}},[a("input",{staticClass:"form-control",attrs:{type:"text",name:"name0",placeholder:"Name"}})]),a("td",{attrs:{"data-name":"mail"}},[a("input",{staticClass:"form-control",attrs:{type:"text",name:"mail0",placeholder:"Email"}})]),a("td",{attrs:{"data-name":"desc"}},[a("textarea",{staticClass:"form-control",attrs:{name:"desc0",placeholder:"Description"}})]),a("td",{attrs:{"data-name":"sel"}},[a("select",{attrs:{name:"sel0"}},[a("option",{attrs:{value:""}},[t._v("Select Option")]),a("option",{attrs:{value:"1"}},[t._v("Option 1")]),a("option",{attrs:{value:"2"}},[t._v("Option 2")]),a("option",{attrs:{value:"3"}},[t._v("Option 3")])])]),a("td",{attrs:{"data-name":"del"}},[a("button",{staticClass:"btn btn-danger glyphicon glyphicon-remove row-remove",attrs:{name:"del0"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])])])])])]),a("a",{staticClass:"btn btn-primary float-right",attrs:{id:"add_row"}},[t._v("Add Row")])])])}],Qt={data:function(){return{}}},Xt=Qt,Yt=Object(p["a"])(Xt,Kt,Gt,!1,null,null,null),te=Yt.exports;i["a"].use(I["a"]);var ee=I["a"].prototype.push;I["a"].prototype.push=function(t){return ee.call(this,t).catch((function(t){return t}))};var ae=new I["a"]({routes:[{path:"/",component:z},{path:"/index",component:z,redirect:"/"},{path:"/write",component:G},{path:"/edit/:aid",component:at,props:!0},{path:"/read/:aid",component:lt,props:!0},{path:"/signin",component:vt},{path:"/signup",component:kt},{path:"/profile",component:qt,redirect:"/profile/ctrlArticle",children:[{path:"ctrlArticle",component:R},{path:"editProfile",component:St},{path:"profilePhoto",component:Mt}]},{path:"/category",component:te},{path:"*",component:Zt}]}),ie=a("760d"),se=a("2f62"),ne=a("7e79"),oe=a.n(ne),re=a("bc3a"),le=a.n(re);i["a"].use(oe.a),le.a.defaults.withCredentials=!0,le.a.defaults.baseURL="https://www.noteblog.site/",i["a"].prototype.axios=le.a,i["a"].use(ie["VueReCaptcha"],{siteKey:"6Le57aQcAAAAAM8MNRlnB-rK3UdgNPyCgHINBRzz",loaderOptions:{useRecaptchaNet:!0}}),i["a"].config.productionTip=!1,i["a"].use(se["a"]);var ce=new se["a"].Store({state:{topic:"",uid:0,sUid:0,searchWords:"",listActive:"",permission:0},mutations:{updateTopic:function(t,e){t.topic=e},updateUid:function(t,e){t.uid=e},updatesUid:function(t,e){t.sUid=e},updateSearchWords:function(t,e){t.searchWords=e},updateListActive:function(t,e){t.listActive=e},updatePermission:function(t,e){t.permission=e}},getters:{getTopic:function(t){return t.topic},getUid:function(t){return t.uid},getsUid:function(t){return t.sUid},getSearchWords:function(t){return t.searchWords},getListActive:function(t){return t.listActive},getPermission:function(t){return t.permission}}});i["a"].prototype.avatar="https://www.noteblog.site/img/avatar/",i["a"].prototype.articleImg="https://www.noteblog.site/img/article/",new i["a"]({router:ae,store:ce,render:function(t){return t($)}}).$mount("#app")},"8d6d":function(t,e,a){"use strict";a("b52e")},"8db7":function(t,e,a){},"908e":function(t,e,a){"use strict";a("c925")},"951c":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return s}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},s=[]},"985f":function(t,e,a){},"9cbf":function(t,e,a){},b3e8:function(t,e,a){"use strict";a("9cbf")},b52e:function(t,e,a){},c15a:function(t,e,a){t.exports=a.p+"img/btn_google_signin_light_focus_web.1c295ea4.png"},c594:function(t,e,a){"use strict";var i=a("26aa"),s=a.n(i);e["default"]=s.a},c705:function(t,e,a){},c91c:function(t,e,a){t.exports=a.p+"img/program.0e2fa967.jpg"},c925:function(t,e,a){},cc86:function(t,e,a){"use strict";a("8db7")},dc57:function(t,e,a){"use strict";a("985f")},e3ba:function(t,e,a){"use strict";a("2a9a")},f216:function(t,e,a){"use strict";a("4331")},f8f3:function(t,e,a){"use strict";a("c705")}});
//# sourceMappingURL=app.1a3fcbc1.js.map